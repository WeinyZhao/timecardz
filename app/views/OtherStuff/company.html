#{extends './userTemplate.html' /}

<div class="container">
<h3>My Company</h3>
</div>
 
    #{if company == null}
       					<a href="/addcompany"><span style="color: blue;">Register a new Company</span></a>
    #{/if}
				
    #{else}
		<table class="table table-striped table-bordered table-condensed">
			<thead>
			    <tr>
		            <th>Company Name</th> 
		            <th>Address</th>
		            <th>Detail</th>
			    </tr>
			</thead>
			<tbody>
	       		<tr>
	          		  <td>
	       				<a href="/companydetails"><span style="color: blue;">${company.name}</span></a>
	      		      </td>
			          <td>
	            		${company.address}
			          </td>
			          <td>
						${company.description}
			          </td>
		        </tr> 
			</tbody>
		</table>
	#{/else}

<div class="container">
<h3>My Team</h3>
</div>
    #{ifnot employees}
       	<span style="color: blue;"> There is no member in your team</span>
    #{/ifnot}
    #{else}
		<table class="table table-striped table-bordered table-condensed">
			<thead>
			    <tr>
		            <th>Employee Id</th> 
		            <th>Name</th>
		            <th>Detail</th>
			    </tr>
			</thead>
			<tbody>
				#{list employees, as:'employee'}
	       		  <tr>
	          		  <td>
	       				<a href="@{OtherStuff.userCards(employee.email)}"> ${employee.email} </a>
	      		      </td>
			          <td>
	            		${employee.firstName} ${employee.lastName}
			          </td>
			          <td>
						TBD
			          </td>
		          </tr>
		        #{/list} 
			</tbody>
		</table>
	#{/else}
#{if company != null}
<div class="container">
<h3>My Time Cards</h3>
</div>
	
      	 #{ifnot timeCards}
       	<a href="/addtime"><span style="color: blue;">Add a new Time Card</span></a>
      
     #{/ifnot}
    
    #{else}
		<table class="table table-striped table-bordered table-condensed">
			<thead>
			    <tr>
		            <th>Week</th> 
		            <th>No. of Hours</th>
		            <th>Ststus</th>
		            <th>edit</th>
			    </tr>
			</thead>
			<tbody>
				#{list timeCards, as:'timeCard'}
	       		  <tr>
	          		  <td>
	       				${timeCard.beginOfWeek}
	       				
	      		      </td>
			          <td>
	            		${timeCard.numberOfHours}
			          </td>
			          <td>
			           #{if timeCard.status == models.StatusEnum.APPROVED}  <button class="btn btn-success btn-mini disabled"><i class="fam-accept"></i>${timeCard.status} </button>  #{/if}
					    #{if timeCard.status == models.StatusEnum.CANCELLED} <button class="btn btn-danger btn-mini disabled"><i class="fam-accept"></i>${timeCard.status} </button>#{/if}
						 #{if timeCard.status == models.StatusEnum.SUBMIT}<button class="btn btn-primary btn-mini disabled"><i class="fam-accept"></i>${timeCard.status} </button> #{/if}	
			          </td>
			          <td> 
			           #{if timeCard.status == models.StatusEnum.APPROVED}  <a class="btn1" href="@{OtherStuff.employee(timeCard.id)}">view</a>#{/if}
			          #{if timeCard.status == models.StatusEnum.CANCELLED} <a class="btn1" href="@{OtherStuff.employee(timeCard.id)}">edit and submit</a>#{/if}
			         #{if timeCard.status == models.StatusEnum.SUBMIT}   <a class="btn1" href="@{OtherStuff.employee(timeCard.id)}">view and update</a>#{/if}
			          </td>
		          </tr>
		        #{/list} 
			</tbody>
		</table>
		</br>
		#{if company != null}
		#{if timeCard.beginOfWeek != beginOfWeek}
       				 <a href="/addtime"><span style="color: blue;">Add a new Time Card</span></a>
       		#{/if}		 
           #{/if}
		<a href="/addtime"><span style="color: blue;">Add a new Time Card</span></a>
		
	#{/else}
	  #{/if}





