#{extends './userTemplate.html' /}
<div id="addUserModalDiv"></div>
<h3> Employees of ${company?.name}</h3>
<table class="table table-striped table-bordered table-condensed">
<thead>
     <tr>
           <th>email </th>
           <th> FirstName</th>
           <th> lastName </th>
           <th>admin</th>
           <th>manager</th>
     </tr>
   </thead>  
   <tbody>
   #{list users, as:'user'}
      <tr>
           <td>${user.email}</td>
           <td>${user.firstName}</td>
           <td> ${user.lastName}</td>
           <td>${user.isAdmin}</td>
           <td>${user.manager.email}</td>
     </tr>
     #{/list}
     </tbody>
</table>

<a href="#" class="btn btn-primary" id="addUser">Add User</a>
<p style="clear: both;">
    <script type="text/javascript">
    var getUser= #{jsAction @UserAddition.AddUser() /}
    $(document).ready(function() {	
        $("#addUser").click(function(e){
            $('#addUserModalDiv').load(getUser(),function(){
                 $("#addUserModal").modal('show');	
            });
        });
  	});
  	</script>
</p>
